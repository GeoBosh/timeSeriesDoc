<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="
    
Compute spreads and midquotes from price streams."><title>Spreads and mid quotes — spreads • timeSeries</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Spreads and mid quotes — spreads"><meta property="og:description" content="
    
Compute spreads and midquotes from price streams."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">timeSeries</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4030.106.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Spreads and mid quotes</h1>
      
      <div class="d-none name"><code>fin-spreads.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    
    
<p>Compute spreads and midquotes from price streams.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">spreads</span><span class="op">(</span><span class="va">x</span>, which <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Bid"</span>, <span class="st">"Ask"</span><span class="op">)</span>, tickSize <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>    </span>
<span><span class="fu">midquotes</span><span class="op">(</span><span class="va">x</span>, which <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Bid"</span>, <span class="st">"Ask"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">midquoteSeries</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span><span class="fu">spreadSeries</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>an object of class <code>timeSeries</code>.</p></dd>

  <dt>which</dt>
<dd>

<p>a vector with two character strings naming the column names of the
    time series from which to compute the mid quotes and spreads.  By
    default these are the bid and ask prices with column names
    <code>c("Bid", "Ask")</code>.</p>
<p></p></dd>

  <dt>tickSize</dt>
<dd>

<p>the default is <code>NULL</code> to simply compute price changes in
    original price levels. If <code>ticksize</code> is supplied, the price
    changes will be divided by the value of <code>inTicksOfSize</code> to
    compute price changes in ticks.</p>
<p></p></dd>
         
  <dt>...</dt>
<dd><p>arguments to be passed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>all functions return an object of class <code>timeSeries</code></p>


    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    

<p>The functions <code>midquoteSeries</code> and <code>spreadSeries</code> may be
  deprecated and removed. They are synonyms for <code>midquotes</code> and
  <code>spreads</code>, respectively. Please use the shorter names.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="fin-returns.html">returns</a></code>,
  <code><a href="fin-cumulated.html">cumulated</a></code>,
  <code><a href="fin-drawdowns.html">drawdowns</a></code>,
  <code><a href="fin-splits.html">splits</a></code>,
  <!-- %\code{\link{spreads}}, -->
  <code>midquotes</code>,
  <code><a href="fin-wealth.html">index2wealth</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Load the Microsoft Data -  </span></span></span>
<span class="r-in"><span>   <span class="fu">setRmetricsOptions</span><span class="op">(</span>myFinCenter <span class="op">=</span> <span class="st">"GMT"</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">MSFT</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="va">X</span> <span class="op">=</span> <span class="va">MSFT</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="base-subsetting.html">head</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GMT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Open    High     Low   Close   Volume</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-09-27 63.4375 63.5625 59.8125 60.6250 53077800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-09-28 60.8125 61.8750 60.6250 61.3125 26180200</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-09-29 61.0000 61.3125 58.6250 60.3125 37026800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-10-02 60.5000 60.8125 58.2500 59.1250 29281200</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-10-03 59.5625 59.8125 56.5000 56.5625 42687000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-10-04 56.3750 56.5625 54.5000 55.4375 68226700</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Compute Open/Close Midquotes -</span></span></span>
<span class="r-in"><span>   <span class="va">X.MID</span> <span class="op">&lt;-</span> <span class="fu">midquotes</span><span class="op">(</span><span class="va">X</span>, which <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Close"</span>, <span class="st">"Open"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">X.MID</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"X.MID"</span></span></span>
<span class="r-in"><span>   <span class="va">X.MID</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GMT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               X.MID</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-09-27 62.03125</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-09-28 61.06250</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-09-29 60.65625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-10-02 59.81250</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-10-03 58.06250</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-10-04 55.90625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-10-05 55.43750</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-10-06 55.68750</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-10-09 54.90625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-10-10 54.25000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Compute Open/Close Spreads -</span></span></span>
<span class="r-in"><span>   <span class="va">X.SPREAD</span> <span class="op">&lt;-</span> <span class="fu">spreads</span><span class="op">(</span><span class="va">X</span>, which <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Close"</span>, <span class="st">"Open"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">X.SPREAD</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"X.SPREAD"</span></span></span>
<span class="r-in"><span>   <span class="va">X.SPREAD</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GMT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            X.SPREAD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-09-27   2.8125</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-09-28  -0.5000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-09-29   0.6875</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-10-02   1.3750</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-10-03   3.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-10-04   0.9375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-10-05   0.1250</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-10-06   0.2500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-10-09   1.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000-10-10  -0.6250</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Diethelm Wuertz, Tobias Setz, Yohan Chalabi, Georgi N. Boshnakov.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

